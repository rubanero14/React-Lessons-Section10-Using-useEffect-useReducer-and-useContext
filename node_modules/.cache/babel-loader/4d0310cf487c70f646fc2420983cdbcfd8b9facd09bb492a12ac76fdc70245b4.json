{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\React-Lessons-Section10-Using-useEffect-useReducer-and-useContext\\\\src\\\\components\\\\Login\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useReducer } from \"react\";\nimport Card from \"../UI/Card/Card\";\nimport classes from \"./Login.module.css\";\nimport Button from \"../UI/Button/Button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = props => {\n  _s();\n  // State management helper function\n  const emailValidator = /^\\S+@\\S+\\.\\S+$/gi; // email validator regex\n\n  const formReducer = (state, action) => {\n    if (action.mode === \"email\") {\n      if (action.type === \"EMAIL_INPUT\") {\n        return {\n          emailValue: action.val,\n          isValid: emailValidator.test(action.val)\n        };\n      }\n      if (action.type === \"EMAIL_BLUR\") {\n        return {\n          emailValue: state.val.trim(),\n          isValid: emailValidator.test(state.val.trim())\n        };\n      }\n    }\n    if (action.mode === \"password\" && emailValidator.test(action.val)) {\n      if (action.type === \"PASSWORD_INPUT\") {\n        return {\n          passwordValue: action.val.trim(),\n          isValid: action.val.trim().length > 6\n        };\n      }\n      if (action.type === \"PASSWORD_BLUR\") {\n        return {\n          passwordValue: state.val.trim(),\n          isValid: state.val.trim().length > 6\n        };\n      }\n    }\n    return {\n      isValid: true\n    };\n  };\n  /*\r\n    // \r\n      Using Destructuring to pulling out isValid properties from emailState and passwordState object and storing them into emailIsValid and passIsValid constants \r\n      using alias assignment, and use it as dependencies and values to useEffect below to ensure it dont fires futher if form is already valid\r\n    //\r\n    const { isValid: emailIsValid } = emailState;\r\n    const { isValid: passwordIsValid } = passwordState;\r\n    useEffect(() => {\r\n      const identifier = setTimeout(() => {\r\n        console.log(\"Checking input valididity...\");\r\n        setFormIsValid(emailIsValid && passwordIsValid);\r\n      }, 500);\r\n        // This is called as Clean Up (Debouncing method) function where this return wont run on the first render, but subsequent render and unmount state,\r\n      // it will be running first and the other code above\r\n      return () => {\r\n        // This function will ensure the code above the return statement only runs omce, suitable for running HTTP request code based on keystroke\r\n        console.log(\"Cleanup\");\r\n          // Resetting the timer of the identifier variable on every keystroke.\r\n        clearTimeout(identifier);\r\n      };\r\n    }, [emailIsValid, passwordIsValid]);\r\n  */\n\n  // State management useReducers\n  const [emailState, dispatchEmail] = useReducer(formReducer, {\n    emailValue: \"\",\n    isValid: false\n  });\n  const [passwordState, dispatchPassword] = useReducer(formReducer, {\n    passwordValue: \"\",\n    isValid: false\n  });\n  const emailChangeHandler = event => {\n    dispatchEmail({\n      type: \"EMAIL_INPUT\",\n      mode: \"email\",\n      val: event.target.value\n    });\n  };\n  const passwordChangeHandler = event => {\n    dispatchPassword({\n      type: \"PASSWORD_INPUT\",\n      mode: \"password\",\n      val: event.target.value\n    });\n  };\n  const validateEmailHandler = () => {\n    dispatchEmail({\n      type: \"EMAIL_BLUR\"\n    });\n  };\n  const validatePasswordHandler = () => {\n    dispatchPassword({\n      type: \"PASSWORD_BLUR\"\n    });\n  };\n  const submitHandler = event => {\n    event.preventDefault();\n    props.onLogin(emailState.emailValue, passwordState.passwordValue);\n  };\n  const clearFormHandler = () => {\n    dispatchEmail({\n      val: \"\"\n    });\n    dispatchPassword({\n      val: \"\"\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: classes.login,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${classes.control} ${!emailState.isValid ? classes.invalid : \"\"}`,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"E-Mail\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          value: emailState.emailValue || null,\n          onChange: emailChangeHandler,\n          onBlur: validateEmailHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${classes.control} ${!passwordState.isValid ? classes.invalid : \"\"}`,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          value: passwordState.passwordValue || \"\",\n          onChange: passwordChangeHandler,\n          onBlur: validatePasswordHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.actions,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          className: classes.btn,\n          disabled: !(passwordState.isValid && emailState.isValid),\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(Button, {\n          type: \"reset\",\n          className: classes.btn,\n          onClick: clearFormHandler,\n          children: \"Reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(Button, {\n          type: \"link\",\n          className: classes.btn,\n          href: \"\",\n          children: \"Reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"MT1eXxCJbfw7XhlHH0mzNqjuM5I=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useReducer","Card","classes","Button","Login","props","emailValidator","formReducer","state","action","mode","type","emailValue","val","isValid","test","trim","passwordValue","length","emailState","dispatchEmail","passwordState","dispatchPassword","emailChangeHandler","event","target","value","passwordChangeHandler","validateEmailHandler","validatePasswordHandler","submitHandler","preventDefault","onLogin","clearFormHandler","login","control","invalid","actions","btn"],"sources":["C:/Users/User/Documents/GitHub/React-Lessons-Section10-Using-useEffect-useReducer-and-useContext/src/components/Login/Login.js"],"sourcesContent":["import React, { useReducer } from \"react\";\r\n\r\nimport Card from \"../UI/Card/Card\";\r\nimport classes from \"./Login.module.css\";\r\nimport Button from \"../UI/Button/Button\";\r\n\r\nconst Login = (props) => {\r\n  // State management helper function\r\n  const emailValidator = /^\\S+@\\S+\\.\\S+$/gi; // email validator regex\r\n\r\n  const formReducer = (state, action) => {\r\n    if (action.mode === \"email\") {\r\n      if (action.type === \"EMAIL_INPUT\") {\r\n        return {\r\n          emailValue: action.val,\r\n          isValid: emailValidator.test(action.val),\r\n        };\r\n      }\r\n\r\n      if (action.type === \"EMAIL_BLUR\") {\r\n        return {\r\n          emailValue: state.val.trim(),\r\n          isValid: emailValidator.test(state.val.trim()),\r\n        };\r\n      }\r\n    }\r\n\r\n    if (action.mode === \"password\" && emailValidator.test(action.val)) {\r\n      if (action.type === \"PASSWORD_INPUT\") {\r\n        return {\r\n          passwordValue: action.val.trim(),\r\n          isValid: action.val.trim().length > 6,\r\n        };\r\n      }\r\n\r\n      if (action.type === \"PASSWORD_BLUR\") {\r\n        return {\r\n          passwordValue: state.val.trim(),\r\n          isValid: state.val.trim().length > 6,\r\n        };\r\n      }\r\n    }\r\n\r\n    return {\r\n      isValid: true,\r\n    };\r\n  };\r\n  /*\r\n    // \r\n      Using Destructuring to pulling out isValid properties from emailState and passwordState object and storing them into emailIsValid and passIsValid constants \r\n      using alias assignment, and use it as dependencies and values to useEffect below to ensure it dont fires futher if form is already valid\r\n    //\r\n    const { isValid: emailIsValid } = emailState;\r\n    const { isValid: passwordIsValid } = passwordState;\r\n    useEffect(() => {\r\n      const identifier = setTimeout(() => {\r\n        console.log(\"Checking input valididity...\");\r\n        setFormIsValid(emailIsValid && passwordIsValid);\r\n      }, 500);\r\n\r\n      // This is called as Clean Up (Debouncing method) function where this return wont run on the first render, but subsequent render and unmount state,\r\n      // it will be running first and the other code above\r\n      return () => {\r\n        // This function will ensure the code above the return statement only runs omce, suitable for running HTTP request code based on keystroke\r\n        console.log(\"Cleanup\");\r\n\r\n        // Resetting the timer of the identifier variable on every keystroke.\r\n        clearTimeout(identifier);\r\n      };\r\n    }, [emailIsValid, passwordIsValid]);\r\n  */\r\n\r\n  // State management useReducers\r\n  const [emailState, dispatchEmail] = useReducer(formReducer, {\r\n    emailValue: \"\",\r\n    isValid: false,\r\n  });\r\n\r\n  const [passwordState, dispatchPassword] = useReducer(formReducer, {\r\n    passwordValue: \"\",\r\n    isValid: false,\r\n  });\r\n\r\n  const emailChangeHandler = (event) => {\r\n    dispatchEmail({\r\n      type: \"EMAIL_INPUT\",\r\n      mode: \"email\",\r\n      val: event.target.value,\r\n    });\r\n  };\r\n\r\n  const passwordChangeHandler = (event) => {\r\n    dispatchPassword({\r\n      type: \"PASSWORD_INPUT\",\r\n      mode: \"password\",\r\n      val: event.target.value,\r\n    });\r\n  };\r\n\r\n  const validateEmailHandler = () => {\r\n    dispatchEmail({\r\n      type: \"EMAIL_BLUR\",\r\n    });\r\n  };\r\n\r\n  const validatePasswordHandler = () => {\r\n    dispatchPassword({\r\n      type: \"PASSWORD_BLUR\",\r\n    });\r\n  };\r\n\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n    props.onLogin(emailState.emailValue, passwordState.passwordValue);\r\n  };\r\n\r\n  const clearFormHandler = () => {\r\n    dispatchEmail({\r\n      val: \"\",\r\n    });\r\n\r\n    dispatchPassword({\r\n      val: \"\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.login}>\r\n      <form onSubmit={submitHandler}>\r\n        <div\r\n          className={`${classes.control} ${\r\n            !emailState.isValid ? classes.invalid : \"\"\r\n          }`}\r\n        >\r\n          <label htmlFor=\"email\">E-Mail</label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            value={emailState.emailValue || null}\r\n            onChange={emailChangeHandler}\r\n            onBlur={validateEmailHandler}\r\n          />\r\n        </div>\r\n        <div\r\n          className={`${classes.control} ${\r\n            !passwordState.isValid ? classes.invalid : \"\"\r\n          }`}\r\n        >\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={passwordState.passwordValue || \"\"}\r\n            onChange={passwordChangeHandler}\r\n            onBlur={validatePasswordHandler}\r\n          />\r\n        </div>\r\n        <div className={classes.actions}>\r\n          <Button\r\n            type=\"submit\"\r\n            className={classes.btn}\r\n            disabled={!(passwordState.isValid && emailState.isValid)}\r\n          >\r\n            Login\r\n          </Button>\r\n          &nbsp;\r\n          <Button\r\n            type=\"reset\"\r\n            className={classes.btn}\r\n            onClick={clearFormHandler}\r\n          >\r\n            Reset\r\n          </Button>\r\n          &nbsp;\r\n          <Button type=\"link\" className={classes.btn} href=\"\">\r\n            Reset\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}